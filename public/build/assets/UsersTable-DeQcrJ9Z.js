import{j as a,b as l}from"./app-BIjIVRtH.js";import{S as j,A as s}from"./SelectableTable-bDXR1K3Z.js";import{u as v}from"./useTrans-BkTq1qdy.js";import"./Pagination-WcxE3D7f.js";function S({users:n,onEdit:i,pageParam:o}){const{t}=v(),c=(e,r)=>{l.put(route("admin.users.update",e),{blocked:!r},{preserveState:!0,preserveScroll:!0})},d=e=>{confirm(`${t("are_you_sure_delete")} "${e.name}"?`)&&l.delete(route("admin.users.destroy",e.id),{preserveScroll:!0})},m=async e=>{l.patch(route("admin.users.bulk.block"),{ids:e},{preserveState:!0,preserveScroll:!0})},u=async e=>{l.patch(route("admin.users.bulk.unblock"),{ids:e},{preserveState:!0,preserveScroll:!0})},x=async e=>{l.delete(route("admin.users.bulk.delete"),{data:{ids:e},preserveState:!0,preserveScroll:!0})},f=[{label:t("block_users"),icon:"fa-solid fa-ban",handler:m,variant:"yellow",requiresConfirmation:!0,confirmMessageKey:"confirm_block_users"},{label:t("unblock_users"),icon:"fa-solid fa-check-circle",handler:u,variant:"orange",requiresConfirmation:!0,confirmMessageKey:"confirm_unblock_users"},{label:t("delete_users"),icon:"fa-solid fa-trash-can",handler:x,variant:"delete",requiresConfirmation:!0,confirmMessageKey:"confirm_delete_users"}],p=[{field:"row_number",label:t("serial"),icon:"fa-hashtag"},{field:"name",label:t("name"),icon:"fa-user"},{field:"email",label:t("email_address"),icon:"fa-envelope"},{field:"username",label:t("username"),icon:"fa-at"},{field:"status",label:t("status"),icon:"fa-circle-info"},{field:"roles",label:t("role"),icon:"fa-user-shield"},{field:"created_at",label:t("created_at"),icon:"fa-calendar"},{field:"actions",label:t("actions"),icon:"fa-gear",className:"flex justify-center"}],b=[{field:"name",label:t("name")},{field:"email",label:t("email_address")},{field:"username",label:t("username")},{field:"blocked",label:t("status")},{field:"created_at",label:t("created_at")}],k=e=>a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-neutral-900 dark:text-neutral-100",children:e.row_number}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-user text-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:e.name})]})}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-envelope text-purple-500"}),a.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:e.email})]})}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-at text-orange-500"}),a.jsx("span",{className:"text-sm text-neutral-900 dark:text-neutral-100",children:e.username})]})}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.blocked?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}`,children:[a.jsx("i",{className:`fa-solid ${e.blocked?"fa-ban":"fa-check-circle"} mr-1`}),e.blocked?t("blocked"):t("active")]})}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:e.roles.map(r=>a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mr-1 ${r.name==="admin"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[a.jsx("i",{className:"fa-solid fa-shield mr-1"}),r.name==="admin"?t("admin"):t("user_role")]},r.id))}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 dark:text-neutral-400",children:new Date(e.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(s,{onClick:r=>{r.stopPropagation(),i(e)},variant:"info",icon:"fa-edit",size:"xs",as:"button",children:t("edit")}),a.jsx(s,{onClick:r=>{r.stopPropagation(),confirm(t("are_you_sure_login_as")+` "${e.name}"?`)&&l.post(route("admin.login_as",e.id),{},{preserveScroll:!0})},variant:"info",icon:"fa-right-to-bracket",size:"xs",as:"button",children:t("login_as")}),a.jsx(s,{onClick:r=>{r.stopPropagation(),c(e.id,e.blocked)},variant:e.blocked?"success":"delete",icon:e.blocked?"fa-check-circle":"fa-ban",size:"xs",as:"button",children:e.blocked?t("unblock"):t("block")}),a.jsx(s,{onClick:r=>{r.stopPropagation(),d(e)},variant:"delete",icon:"fa-trash-can",size:"xs",as:"button",children:t("delete")})]})})]}),h=(e,r,g)=>g?"":e.blocked?"bg-red-50 dark:bg-red-950 hover:bg-red-100 dark:hover:bg-red-900":r%2===0?"bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700":"bg-neutral-50 dark:bg-neutral-900 hover:bg-neutral-100 dark:hover:bg-neutral-800";return a.jsx(j,{columns:p,data:n?n.data:[],pagination:n,routeName:"admin.users.index",queryParams:{},sortOptions:b,defaultSortField:"created_at",defaultSortDirection:"desc",renderRow:k,getRowClassName:h,bulkActions:f,pageParam:o})}export{S as default};
