import{a as p,r as f,j as e}from"./app-BFMtOe9D.js";import{I as d}from"./InputLabel-whX1BoeK.js";import{T as c}from"./TextInput-BXXrcCac.js";import{I as i}from"./InputError-6FnhIbPn.js";import{P as h}from"./PrimaryButton-VO7rw8Ar.js";import{S as j}from"./SecondaryButton-CtEagRio.js";import{D as b}from"./DragFileInput-CBfOwCB_.js";import{u as v}from"./useTrans-BkTq1qdy.js";import{A as N}from"./AppModal-CYHkfuaG.js";function P({isOpen:t,onClose:o,category:r}){const{t:a}=v(),{data:s,setData:n,post:x,errors:l,reset:_,processing:u}=p({name_ar:"",name_en:"",name_de:"",image:null,_method:"PUT"});if(f.useEffect(()=>{r&&t?n({name_ar:r.name?.ar||"",name_en:r.name?.en||"",name_de:r.name?.de||"",image:null,_method:"PUT"}):t||_()},[r,t]),!r)return null;const g=m=>{m.preventDefault(),x(route("admin.age-categories.update",r.id),{onSuccess:()=>{_(),o()},forceFormData:!0})};return e.jsx(N,{isOpen:t,onClose:o,title:a("edit_category"),icon:"fa-pen-to-square",size:"md",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{htmlFor:"name_ar",value:a("category_name_ar"),required:!0}),e.jsx(c,{id:"name_ar",name:"name_ar",value:s.name_ar,className:"mt-1 block w-full",onChange:m=>n("name_ar",m.target.value),required:!0,icon:"fa-folder",placeholder:a("enter_arabic_name")}),e.jsx(i,{message:l.name_ar,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{htmlFor:"name_en",value:a("category_name_en"),required:!0}),e.jsx(c,{id:"name_en",name:"name_en",value:s.name_en,className:"mt-1 block w-full",onChange:m=>n("name_en",m.target.value),required:!0,icon:"fa-folder",placeholder:a("enter_english_name")}),e.jsx(i,{message:l.name_en,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{htmlFor:"name_de",value:a("category_name_de"),required:!0}),e.jsx(c,{id:"name_de",name:"name_de",value:s.name_de,className:"mt-1 block w-full",onChange:m=>n("name_de",m.target.value),required:!0,icon:"fa-folder",placeholder:a("enter_german_name")}),e.jsx(i,{message:l.name_de,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{value:a("image")}),r?.image&&!s.image&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-1",children:[a("current_image"),":"]}),e.jsx("img",{src:`/storage/${r.image}`,alt:"Current",className:"h-32 w-32 object-cover rounded-lg border border-neutral-300 dark:border-neutral-600"})]}),e.jsx(b,{id:"image",accept:"image/*",onChange:m=>n("image",m||null),value:s.image,maxFiles:1,helperText:a("upload_image_helper_edit")}),s.image&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-1",children:[a("new_image_preview"),":"]}),e.jsx("img",{src:URL.createObjectURL(s.image),alt:"Preview",className:"h-32 w-32 object-cover rounded-lg border border-orange-400 dark:border-orange-600"})]}),e.jsx(i,{message:l.image,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(j,{type:"button",onClick:o,icon:"fa-xmark",rounded:"rounded-lg",disabled:u,children:a("cancel")}),e.jsx(h,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:u,children:a(u?"updating":"save_changes")})]})]})})}export{P as default};
