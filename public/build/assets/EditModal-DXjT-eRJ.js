import{a as p,r as f,j as e}from"./app-BIjIVRtH.js";import{I as o,a as u}from"./InputLabel-40hQBXBN.js";import{T as x}from"./TextInput-D2pGkY1h.js";import{P as h}from"./PrimaryButton-kolRTYFP.js";import{A as j,S as b}from"./SecondaryButton-Bf5FgaD_.js";import{D as v}from"./DragFileInput-4xSSs4vG.js";import{u as N}from"./useTrans-BkTq1qdy.js";function E({isOpen:n,onClose:l,category:r}){const{t:a}=N(),{data:m,setData:t,post:g,errors:i,reset:c,processing:d}=p({name_ar:"",name_en:"",image:null,_method:"PUT"});if(f.useEffect(()=>{r&&n?t({name_ar:r.name?.ar||"",name_en:r.name?.en||"",image:null,_method:"PUT"}):n||c()},[r,n]),!r)return null;const _=s=>{s.preventDefault(),g(route("admin.age-categories.update",r.id),{onSuccess:()=>{c(),l()},forceFormData:!0})};return e.jsx(j,{isOpen:n,onClose:l,title:a("edit_category"),icon:"fa-pen-to-square",size:"md",children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"name_ar",value:a("category_name_ar"),required:!0}),e.jsx(x,{id:"name_ar",name:"name_ar",value:m.name_ar,className:"mt-1 block w-full",onChange:s=>t("name_ar",s.target.value),required:!0,icon:"fa-folder",placeholder:a("enter_arabic_name")}),e.jsx(u,{message:i.name_ar,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"name_en",value:a("category_name_en"),required:!0}),e.jsx(x,{id:"name_en",name:"name_en",value:m.name_en,className:"mt-1 block w-full",onChange:s=>t("name_en",s.target.value),required:!0,icon:"fa-folder",placeholder:a("enter_english_name")}),e.jsx(u,{message:i.name_en,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{value:a("image")}),r?.image&&!m.image&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-1",children:[a("current_image"),":"]}),e.jsx("img",{src:`/storage/${r.image}`,alt:"Current",className:"h-32 w-32 object-cover rounded-lg border border-neutral-300 dark:border-neutral-600"})]}),e.jsx(v,{id:"image",accept:"image/*",onChange:s=>t("image",s||null),value:m.image,maxFiles:1,helperText:a("upload_image_helper_edit")}),m.image&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-1",children:[a("new_image_preview"),":"]}),e.jsx("img",{src:URL.createObjectURL(m.image),alt:"Preview",className:"h-32 w-32 object-cover rounded-lg border border-orange-400 dark:border-orange-600"})]}),e.jsx(u,{message:i.image,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(b,{type:"button",onClick:l,icon:"fa-xmark",rounded:"rounded-lg",disabled:d,children:a("cancel")}),e.jsx(h,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:d,children:a(d?"updating":"save_changes")})]})]})})}export{E as default};
