import{r as s,j as a,b as g}from"./app-CmjdSMvU.js";import{S as m}from"./SelectInput-D_PXNFfA.js";import"./InputError-MwXv_bOv.js";import"./InputLabel-DyeBRmEs.js";function j({order:e,t}){const[n,u]=s.useState(""),[i,d]=s.useState(!1),[r,p]=s.useState(!1),[o,c]=s.useState("en"),b=[{value:"",label:t("select")},{value:"pending",label:t("payment_status_pending")},{value:"paid",label:t("payment_status_paid")},{value:"failed",label:t("payment_status_failed")},{value:"refunded",label:t("payment_status_refunded")}],y=[{value:"en",label:"English"},{value:"ar",label:"العربية"}],f=()=>{!n||!e.payments||e.payments.length===0||(d(!0),g.put(route("admin.orders.update-payment-status",e.id),{status:n},{onFinish:()=>d(!1),onSuccess:()=>{u("")}}))},x=()=>{!e.payments||e.payments.length===0||(p(!0),g.post(route("admin.orders.notify-payment-status",e.id),{locale:o},{onFinish:()=>p(!1)}))};return a.jsxs("div",{className:"bg-white dark:bg-neutral-900/80 border border-neutral-200 dark:border-neutral-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:t("update_payment_status")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:[t("current_status"),":"]}),a.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${e.payments&&e.payments.length>0&&e.payments[0].status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":e.payments&&e.payments.length>0&&e.payments[0].status==="pending"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":e.payments&&e.payments.length>0&&e.payments[0].status==="failed"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}`,children:e.payments&&e.payments.length>0?t(`payment_status_${e.payments[0].status}`):t("no_payment")})]}),a.jsx(m,{name:"status",value:n,onChange:l=>u(l.target.value),options:b,label:t("new_status")}),a.jsx(m,{name:"language",value:o,onChange:l=>c(l.target.value),options:y,label:t("language")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:f,disabled:i||!n||!e.payments||e.payments.length===0,className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50",children:t(i?"updating":"update_status")}),a.jsx("button",{onClick:x,disabled:r||!e.payments||e.payments.length===0,className:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50",children:t(r?"sending":"notify_user")})]})]})]})}export{j as default};
