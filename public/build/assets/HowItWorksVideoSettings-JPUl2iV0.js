import{a as x,j as e}from"./app-82AZOXVc.js";import{u as w}from"./useTrans-BkTq1qdy.js";import{I as c}from"./InputLabel-CmH1qWtn.js";import{I as m}from"./InputError-BVvLsPTn.js";import{D as f}from"./DragFileInput-pMyxOClO.js";import{P as p}from"./PrimaryButton-KyuPPXAv.js";import{S as u}from"./SecondaryButton-DRxjPRkX.js";import{z as k}from"./transition-D28CeP95.js";function I({settings:t}){const{t:s}=w(),{data:o,setData:d,post:l,errors:n,reset:a,processing:r,recentlySuccessful:_}=x({files:{how_it_works_video:null},settings:{how_it_works_video:t.how_it_works_video||null,remove_how_it_works_video:!1}}),h=i=>{i.preventDefault(),l(route("admin.site-settings.update"),{onSuccess:()=>{a()},forceFormData:!0})},v=()=>{d("settings",{how_it_works_video:null,remove_how_it_works_video:!0}),l(route("admin.site-settings.update"),{onSuccess:()=>{a()},forceFormData:!0})};return e.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:s("how_it_works_video")}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-1",children:s("upload_how_it_works_video")})]}),e.jsxs("form",{onSubmit:h,children:[t.how_it_works_video&&!o.settings.remove_how_it_works_video&&e.jsxs("div",{className:"mb-6",children:[e.jsx(c,{value:s("current_video")}),e.jsx("div",{className:"mt-2",children:e.jsx("video",{src:`/storage/${t.how_it_works_video}`,controls:!0,className:"w-full max-w-2xl rounded-lg border border-neutral-300 dark:border-neutral-600",preload:"metadata"})}),e.jsx("div",{className:"mt-2",children:e.jsx(u,{type:"button",onClick:v,icon:"fa-trash",className:"bg-red-500 hover:bg-red-600 text-white",disabled:r,children:s("remove_video")})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{value:s("video")}),e.jsx(f,{id:"how_it_works_video",accept:"video/*",onChange:i=>d("files",{...o.files,how_it_works_video:i||null}),value:o.files.how_it_works_video,maxFiles:1,helperText:s("video_optional")}),o.files.how_it_works_video&&e.jsx("div",{className:"mt-2",children:e.jsx("video",{src:URL.createObjectURL(o.files.how_it_works_video),controls:!0,className:"h-32 w-auto rounded-lg border border-neutral-300 dark:border-neutral-600"})}),e.jsx(m,{message:n["files.how_it_works_video"],className:"mt-2"})]}),e.jsx(m,{message:n.general,className:"mt-2"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(u,{type:"button",onClick:()=>a(),icon:"fa-xmark",rounded:"rounded-lg",disabled:r,children:s("cancel")}),e.jsx(p,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:r,children:s(r?"saving":"save_changes")})]}),e.jsx(k,{show:_,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400 flex items-center gap-1 mt-4",children:[e.jsx("i",{className:"fa-solid fa-check"})," ",s("video_updated_successfully")]})})]})]})}export{I as default};
