import{r as s,j as e,b as g}from"./app-CmjdSMvU.js";import{D as h}from"./DragFileInput-BCATiycV.js";import{S as j}from"./SelectInput-D_PXNFfA.js";import"./InputError-MwXv_bOv.js";import"./InputLabel-DyeBRmEs.js";function S({order:a,t:n}){const[r,o]=s.useState(null),[l,d]=s.useState(!1),[i,c]=s.useState(!1),[u,f]=s.useState("en"),p=[{value:"en",label:"English"},{value:"ar",label:"العربية"}],x=t=>{t&&o(t)},b=()=>{if(!r)return;const t=new FormData;t.append("pdf_file",r),d(!0),g.post(route("admin.orders.upload-pdf",a.id),t,{onFinish:()=>d(!1),headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{o(null)}})},m=()=>{c(!0),g.post(route("admin.orders.notify-pdf",a.id),{locale:u},{onFinish:()=>c(!1)})};return e.jsxs("div",{className:"bg-white dark:bg-neutral-900/80 border border-neutral-200 dark:border-neutral-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-4",children:n("upload_story_pdf")}),e.jsxs("div",{className:"space-y-4",children:[a.pdf_path&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-file-pdf text-green-600 dark:text-green-400 mx-2"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:n("pdf_uploaded")})]}),e.jsxs("a",{href:`/storage/${a.pdf_path}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 dark:bg-green-900 dark:text-green-200 dark:hover:bg-green-800 transition-colors duration-200",children:[e.jsx("i",{className:"fa fa-external-link-alt mr-1"}),n("view_pdf")]})]})})}),e.jsx(h,{id:"pdf_file",label:n("select_pdf_file"),accept:".pdf",onChange:x,helperText:n("pdf_upload_helper"),disabled:l}),r&&e.jsxs("div",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[n("selected_file"),": ",r.name]}),e.jsx(j,{name:"language",value:u,onChange:t=>f(t.target.value),options:p,label:"Language"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:b,disabled:l||!r,className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50",children:n(l?"uploading":"update_pdf")}),e.jsx("button",{onClick:m,disabled:i||!a.pdf_path,className:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50",children:n(i?"sending":"notify_user_pdf")})]})]})]})}export{S as default};
