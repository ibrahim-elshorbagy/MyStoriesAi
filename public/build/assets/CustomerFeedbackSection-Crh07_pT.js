import{r as R,j as t}from"./app-CmpPqRc8.js";import{g as P,S as L,d as D}from"./swiper-C8ARWYw_.js";import{N as H}from"./navigation-uQNppz6t.js";import{u as J}from"./useTrans-BkTq1qdy.js";function $(x){let{swiper:e,extendParams:v,on:o,emit:l,params:u}=x;e.autoplay={running:!1,paused:!1,timeLeft:0},v({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let d,b,y=u&&u.autoplay?u.autoplay.delay:3e3,n=u&&u.autoplay?u.autoplay.delay:3e3,a,s=new Date().getTime(),p,N,h,I,T,m,S;function O(r){!e||e.destroyed||!e.wrapperEl||r.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",O),!(S||r.detail&&r.detail.bySwiperTouchMove)&&f())}const M=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?p=!0:p&&(n=a,p=!1);const r=e.autoplay.paused?a:s+n-new Date().getTime();e.autoplay.timeLeft=r,l("autoplayTimeLeft",r,r/y),b=requestAnimationFrame(()=>{M()})},k=()=>{let r;return e.virtual&&e.params.virtual.enabled?r=e.slides.find(i=>i.classList.contains("swiper-slide-active")):r=e.slides[e.activeIndex],r?parseInt(r.getAttribute("data-swiper-autoplay"),10):void 0},E=r=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(b),M();let c=typeof r>"u"?e.params.autoplay.delay:r;y=e.params.autoplay.delay,n=e.params.autoplay.delay;const i=k();!Number.isNaN(i)&&i>0&&typeof r>"u"&&(c=i,y=i,n=i),a=c;const j=e.params.speed,B=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(j,!0,!0),l("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,j,!0,!0),l("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(j,!0,!0),l("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,j,!0,!0),l("autoplay")),e.params.cssMode&&(s=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return c>0?(clearTimeout(d),d=setTimeout(()=>{B()},c)):requestAnimationFrame(()=>{B()}),c},C=()=>{s=new Date().getTime(),e.autoplay.running=!0,E(),l("autoplayStart")},w=()=>{e.autoplay.running=!1,clearTimeout(d),cancelAnimationFrame(b),l("autoplayStop")},g=(r,c)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(d),r||(m=!0);const i=()=>{l("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",O):f()};if(e.autoplay.paused=!0,c){T&&(a=e.params.autoplay.delay),T=!1,i();return}a=(a||e.params.autoplay.delay)-(new Date().getTime()-s),!(e.isEnd&&a<0&&!e.params.loop)&&(a<0&&(a=0),i())},f=()=>{e.isEnd&&a<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(s=new Date().getTime(),m?(m=!1,E(a)):E(),e.autoplay.paused=!1,l("autoplayResume"))},V=()=>{if(e.destroyed||!e.autoplay.running)return;const r=P();r.visibilityState==="hidden"&&(m=!0,g(!0)),r.visibilityState==="visible"&&f()},A=r=>{r.pointerType==="mouse"&&(m=!0,S=!0,!(e.animating||e.autoplay.paused)&&g(!0))},_=r=>{r.pointerType==="mouse"&&(S=!1,e.autoplay.paused&&f())},z=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",A),e.el.addEventListener("pointerleave",_))},q=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",A),e.el.removeEventListener("pointerleave",_))},F=()=>{P().addEventListener("visibilitychange",V)},G=()=>{P().removeEventListener("visibilitychange",V)};o("init",()=>{e.params.autoplay.enabled&&(z(),F(),C())}),o("destroy",()=>{q(),G(),e.autoplay.running&&w()}),o("_freeModeStaticRelease",()=>{(h||m)&&f()}),o("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?w():g(!0,!0)}),o("beforeTransitionStart",(r,c,i)=>{e.destroyed||!e.autoplay.running||(i||!e.params.autoplay.disableOnInteraction?g(!0,!0):w())}),o("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){w();return}N=!0,h=!1,m=!1,I=setTimeout(()=>{m=!0,h=!0,g(!0)},200)}}),o("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!N)){if(clearTimeout(I),clearTimeout(d),e.params.autoplay.disableOnInteraction){h=!1,N=!1;return}h&&e.params.cssMode&&f(),h=!1,N=!1}}),o("slideChange",()=>{e.destroyed||!e.autoplay.running||(T=!0)}),Object.assign(e.autoplay,{start:C,stop:w,pause:g,resume:f})}function X({textFeedbacks:x,imageFeedbacks:e,videoFeedbacks:v}){const{t:o}=J(),l=R.useRef([]),[u,d]=R.useState({}),b=document.documentElement.dir==="rtl",y=(n,a)=>{a&&a.stopPropagation();const s=l.current[n];s&&(u[n]?s.pause():s.play(),d(p=>({...p,[n]:!p[n]})))};return t.jsxs(t.Fragment,{children:[t.jsx("section",{className:"bg-neutral-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto space-y-12 py-14 px-5 sm:px-8 md:px-12 lg:px-20",children:[x&&x.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:o("customer_testimonials")}),t.jsx(L,{modules:[$],slidesPerView:1,spaceBetween:24,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}},children:x.map((n,a)=>t.jsx(D,{children:t.jsxs("div",{className:"flex flex-col justify-between h-full bg-white border border-orange-100 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",children:[t.jsx("div",{className:"flex flex-col flex-grow justify-center p-6 text-center min-h-60",children:t.jsxs("p",{className:"text-gray-700 leading-relaxed text-base italic",children:['"',n.customer_feedback,'"']})}),t.jsx("div",{className:"flex justify-center py-3",children:[...Array(5)].map((s,p)=>t.jsx("i",{className:"fa-solid fa-star text-yellow-400 text-lg"},p))})]})},`text-feedback-${n.id||a}`))})]}),e&&e.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:o("customer_images")}),t.jsx(L,{modules:[$],slidesPerView:1,spaceBetween:24,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}},children:e.map((n,a)=>t.jsx(D,{children:t.jsx("div",{className:"flex flex-col h-full bg-white border border-orange-100 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",children:t.jsx("div",{className:"h-60 overflow-hidden",children:t.jsx("img",{src:`/storage/${n.image}`,alt:"Customer feedback",className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105"})})})},`image-feedback-${n.id||a}`))})]})]})}),v&&v.length>0&&t.jsxs("section",{className:"relative w-screen overflow-hidden  md:h-screen",style:{marginLeft:"calc(-50vw + 50%)"},children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-gradient-to-b from-black/60 to-transparent py-6 pointer-events-none",children:t.jsx("h3",{className:"text-3xl font-bold text-center text-white",children:o("customer_videos")})}),t.jsx(L,{modules:[H],slidesPerView:1,spaceBetween:0,autoplay:!1,loop:!0,navigation:{nextEl:".video-swiper-button-next",prevEl:".video-swiper-button-prev"},className:"!w-full !h-auto md:!h-screen",onSlideChange:n=>{const a=n.realIndex;u[a]===void 0&&d(s=>({...s,[a]:!0}))},children:v.map((n,a)=>t.jsx(D,{className:"!w-full",children:t.jsxs("div",{className:"relative !w-full cursor-pointer",onClick:s=>y(a,s),children:[t.jsx("video",{ref:s=>l.current[a]=s,src:`/storage/${n.video}`,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",className:"!w-full h-auto max-h-[80vh] object-contain md:h-screen md:max-h-screen md:object-cover",onPlay:()=>d(s=>({...s,[a]:!0}))}),t.jsx("button",{onClick:s=>{s.stopPropagation(),y(a,s)},className:`absolute bottom-8 z-20 bg-orange-500/20 hover:bg-orange-500/40 backdrop-blur-md border border-orange-400/50 hover:border-orange-400/80 text-white rounded-full w-14 h-14 md:w-16 md:h-16 flex items-center justify-center shadow-lg shadow-orange-500/20 transition-all duration-200 hover:scale-110 ${b?"left-8":"right-8"}`,"aria-label":u[a]?"Pause video":"Play video",children:u[a]?t.jsx("i",{className:"fa-solid fa-pause text-xl md:text-2xl"}):t.jsx("i",{className:"fa-solid fa-play text-xl md:text-2xl ms-1"})})]})},`video-feedback-${n.id||a}`))}),t.jsx("button",{className:"video-swiper-button-prev absolute left-4 md:left-8 top-1/2 -translate-y-1/2 z-30 bg-orange-500/20 hover:bg-orange-500/40 backdrop-blur-md border border-orange-400/50 hover:border-orange-400/80 text-white rounded-full w-12 h-12 md:w-16 md:h-16 flex items-center justify-center shadow-lg shadow-orange-500/20 transition-all duration-200",children:t.jsx("i",{className:"fa-solid fa-chevron-left text-lg md:text-xl"})}),t.jsx("button",{className:"video-swiper-button-next absolute right-4 md:right-8 top-1/2 -translate-y-1/2 z-30 bg-orange-500/20 hover:bg-orange-500/40 backdrop-blur-md border border-orange-400/50 hover:border-orange-400/80 text-white rounded-full w-12 h-12 md:w-16 md:h-16 flex items-center justify-center shadow-lg shadow-orange-500/20 transition-all duration-200",children:t.jsx("i",{className:"fa-solid fa-chevron-right text-lg md:text-xl"})})]})]})}export{X as default};
