import{a as _,r as f,j as e}from"./app-CmjdSMvU.js";import{I as d}from"./InputLabel-DyeBRmEs.js";import{T as x}from"./TextInput-BzzhkyHX.js";import{I as u}from"./InputError-MwXv_bOv.js";import{P as h}from"./PrimaryButton-DmmwwnBh.js";import{S as j}from"./SecondaryButton-CKGMLTKC.js";import{D as b}from"./DragFileInput-BCATiycV.js";import{u as v}from"./useTrans-BkTq1qdy.js";import{A as N}from"./AppModal-CrBGLZT4.js";function P({isOpen:t,onClose:l,category:r}){const{t:a}=v(),{data:m,setData:n,post:g,errors:i,reset:c,processing:o}=_({name_ar:"",name_en:"",image:null,_method:"PUT"});if(f.useEffect(()=>{r&&t?n({name_ar:r.name?.ar||"",name_en:r.name?.en||"",image:null,_method:"PUT"}):t||c()},[r,t]),!r)return null;const p=s=>{s.preventDefault(),g(route("admin.age-categories.update",r.id),{onSuccess:()=>{c(),l()},forceFormData:!0})};return e.jsx(N,{isOpen:t,onClose:l,title:a("edit_category"),icon:"fa-pen-to-square",size:"md",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{htmlFor:"name_ar",value:a("category_name_ar"),required:!0}),e.jsx(x,{id:"name_ar",name:"name_ar",value:m.name_ar,className:"mt-1 block w-full",onChange:s=>n("name_ar",s.target.value),required:!0,icon:"fa-folder",placeholder:a("enter_arabic_name")}),e.jsx(u,{message:i.name_ar,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{htmlFor:"name_en",value:a("category_name_en"),required:!0}),e.jsx(x,{id:"name_en",name:"name_en",value:m.name_en,className:"mt-1 block w-full",onChange:s=>n("name_en",s.target.value),required:!0,icon:"fa-folder",placeholder:a("enter_english_name")}),e.jsx(u,{message:i.name_en,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{value:a("image")}),r?.image&&!m.image&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-1",children:[a("current_image"),":"]}),e.jsx("img",{src:`/storage/${r.image}`,alt:"Current",className:"h-32 w-32 object-cover rounded-lg border border-neutral-300 dark:border-neutral-600"})]}),e.jsx(b,{id:"image",accept:"image/*",onChange:s=>n("image",s||null),value:m.image,maxFiles:1,helperText:a("upload_image_helper_edit")}),m.image&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-1",children:[a("new_image_preview"),":"]}),e.jsx("img",{src:URL.createObjectURL(m.image),alt:"Preview",className:"h-32 w-32 object-cover rounded-lg border border-orange-400 dark:border-orange-600"})]}),e.jsx(u,{message:i.image,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(j,{type:"button",onClick:l,icon:"fa-xmark",rounded:"rounded-lg",disabled:o,children:a("cancel")}),e.jsx(h,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:o,children:a(o?"updating":"save_changes")})]})]})})}export{P as default};
