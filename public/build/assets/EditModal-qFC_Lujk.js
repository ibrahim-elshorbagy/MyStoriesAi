import{a as w,r as g,j as e}from"./app-Bj6znhMC.js";import{I as t}from"./InputLabel-LZDjWbas.js";import{T as n}from"./TextInput-dseV8AZb.js";import{I as i}from"./InputError-Dzp_IolY.js";import{P as _}from"./PrimaryButton-DmrnqZe6.js";import{S as b}from"./SecondaryButton-DBVWAY8r.js";import{S as N}from"./SelectInput-CPsDqUwS.js";import{u as k}from"./useTrans-BkTq1qdy.js";import{A as y}from"./AppModal-Blxje4M2.js";function B({isOpen:d,onClose:u,user:r,roles:f}){const{t:s}=k(),{data:m,setData:o,post:x,errors:l,reset:p,processing:c}=w({name:"",email:"",username:"",password:"",password_confirmation:"",role:[],_method:"PUT"});if(g.useEffect(()=>{r&&d?o({name:r.name||"",email:r.email||"",username:r.username||"",password:"",password_confirmation:"",role:r.roles?r.roles.map(a=>a.name):[],_method:"PUT"}):d||p()},[r,d]),!r)return null;const h=a=>{a.preventDefault(),x(route("admin.users.update",r.id),{onSuccess:()=>{p(),u()}})},v=[{value:"",label:`-- ${s("role")} --`},...f?.map(a=>({value:a.name,label:a.name==="admin"?s("admin"):s("user_role")}))||[]];return e.jsx(y,{isOpen:d,onClose:u,title:s("edit_user"),icon:"fa-pen-to-square",size:"md",children:e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"name",value:s("full_name"),required:!0}),e.jsx(n,{id:"name",name:"name",value:m.name,className:"mt-1 block w-full",onChange:a=>o("name",a.target.value),required:!0,icon:"fa-user"}),e.jsx(i,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"email",value:s("email_address"),required:!0}),e.jsx(n,{id:"email",type:"email",name:"email",value:m.email,className:"mt-1 block w-full",onChange:a=>o("email",a.target.value),required:!0,icon:"fa-envelope"}),e.jsx(i,{message:l.email,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"username",value:s("username"),required:!0}),e.jsx(n,{id:"username",name:"username",value:m.username,className:"mt-1 block w-full",onChange:a=>o("username",a.target.value),required:!0,icon:"fa-at"}),e.jsx(i,{message:l.username,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"password",value:s("password")}),e.jsx(n,{id:"password",type:"password",name:"password",value:m.password,className:"mt-1 block w-full",onChange:a=>o("password",a.target.value),icon:"fa-lock",placeholder:s("leave_empty_to_keep_current")}),e.jsx(i,{message:l.password,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"password_confirmation",value:s("password_confirmation")}),e.jsx(n,{id:"password_confirmation",type:"password",name:"password_confirmation",value:m.password_confirmation,className:"mt-1 block w-full",onChange:a=>o("password_confirmation",a.target.value),icon:"fa-lock"}),e.jsx(i,{message:l.password_confirmation,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"role",value:s("role"),required:!0}),e.jsx(N,{name:"role",value:m.role,onChange:a=>o("role",Array.from(a.target.selectedOptions,j=>j.value)),options:v,icon:"fa-user-shield",error:l.role,multiple:!0,required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(b,{type:"button",onClick:u,icon:"fa-xmark",rounded:"rounded-lg",disabled:c,children:s("cancel")}),e.jsx(_,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:c,children:s(c?"saving_changes":"save_changes")})]})]})})}export{B as default};
