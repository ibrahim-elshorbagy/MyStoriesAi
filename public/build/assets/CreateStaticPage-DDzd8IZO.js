import{a as k,r as d,j as e,H as C,L as _}from"./app-7te7C8mL.js";import{A as q}from"./AppLayout-BJNF6mC2.js";import{u as F}from"./useTrans-BkTq1qdy.js";import{I as i}from"./InputLabel-BiduPZSQ.js";import{T as p}from"./TextInput-CVl358Bb.js";import{S as g}from"./SelectInput-BhB5CXr1.js";import{I as l}from"./InputError-CILmys6e.js";import{P as R}from"./PrimaryButton-C4hFStqE.js";import{S as E}from"./SecondaryButton-Kd7RpnHv.js";import"./ApplicationLogo-BZJ8ofmw.js";import"./Toastify-CJyT26FF.js";import"./CookieModal-4uX_44GY.js";import"./AppModal-DeSaeCsM.js";function G({categories:h=[]}){const{t:a}=F(),{data:o,setData:s,post:j,errors:r,processing:f}=k({title_ar:"",title_en:"",title_de:"",content_ar:"",content_en:"",content_de:"",category_id:"",status:"draft"}),u=d.useRef(null),m=d.useRef(null),x=d.useRef(null);d.useEffect(()=>{const t=document.createElement("script");return t.src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/6.8.3/tinymce.min.js",t.async=!0,t.onload=()=>v(),document.body.appendChild(t),()=>{window.tinymce&&window.tinymce.remove()}},[]);const v=()=>{if(!window.tinymce)return;const t={height:600,menubar:!0,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount","directionality"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | ltr rtl | bullist numlist outdent indent | image media table | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",automatic_uploads:!1,images_dataimg_filter:function(n){return n.hasAttribute("internal-blob")},images_upload_handler:function(n,N,w){const c=new FileReader;c.onload=function(){N(c.result)},c.onerror=function(){w("Failed to convert image to base64")},c.readAsDataURL(n.blob())},paste_data_images:!0};window.tinymce.init({...t,selector:"#content_ar",directionality:"rtl",setup:n=>{u.current=n,n.on("change",()=>{s("content_ar",n.getContent())})}}),window.tinymce.init({...t,selector:"#content_en",directionality:"ltr",setup:n=>{m.current=n,n.on("change",()=>{s("content_en",n.getContent())})}}),window.tinymce.init({...t,selector:"#content_de",directionality:"ltr",setup:n=>{x.current=n,n.on("change",()=>{s("content_de",n.getContent())})}})},b=t=>{t.preventDefault(),u.current&&s("content_ar",u.current.getContent()),m.current&&s("content_en",m.current.getContent()),x.current&&s("content_de",x.current.getContent()),j(route("admin.static-pages.store"))},y=[{value:"draft",label:a("draft")},{value:"published",label:a("published")},{value:"archived",label:a("archived")}];return e.jsxs(q,{children:[e.jsx(C,{title:a("create_static_page")}),e.jsx("div",{className:"m-3 xl:m-5",children:e.jsx("div",{className:"overflow-hidden rounded-2xl shadow-lg dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-700",children:e.jsxs("div",{className:"p-6 text-neutral-900 dark:text-neutral-100",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(_,{href:route("admin.static-pages.index"),className:"flex items-center text-neutral-600 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-100 transition-colors",children:[e.jsx("i",{className:"fa-solid fa-arrow-left rtl:rotate-180 mx-2"}),a("static_pages")]}),e.jsx("span",{className:"text-neutral-400 dark:text-neutral-600",children:"/"}),e.jsxs("h1",{className:"text-2xl font-bold leading-tight text-neutral-900 dark:text-neutral-100",children:[e.jsx("i",{className:"fa-solid fa-plus text-green-500 mx-2"}),a("create_page")]})]})}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title_ar",value:a("title_ar"),required:!0}),e.jsx(p,{id:"title_ar",type:"text",name:"title_ar",value:o.title_ar,className:"mt-1 block w-full",onChange:t=>s("title_ar",t.target.value),required:!0}),e.jsx(l,{message:r.title_ar,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title_en",value:a("title_en"),required:!0}),e.jsx(p,{id:"title_en",type:"text",name:"title_en",value:o.title_en,className:"mt-1 block w-full",onChange:t=>s("title_en",t.target.value),required:!0}),e.jsx(l,{message:r.title_en,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title_de",value:a("title_de"),required:!0}),e.jsx(p,{id:"title_de",type:"text",name:"title_de",value:o.title_de,className:"mt-1 block w-full",onChange:t=>s("title_de",t.target.value),required:!0}),e.jsx(l,{message:r.title_de,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(g,{name:"category_id",label:a("category"),value:o.category_id,onChange:t=>s("category_id",t.target.value),options:[{value:"",label:a("select_category")},...h.map(t=>({value:t.id,label:t.name_value||t.name}))],icon:"fa-folder",required:!0}),e.jsx(l,{message:r.category_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(g,{name:"status",label:a("status"),value:o.status,onChange:t=>s("status",t.target.value),options:y,icon:"fa-circle-check",required:!0}),e.jsx(l,{message:r.status,className:"mt-2"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"content_ar",value:a("content_ar"),required:!0}),e.jsx("div",{className:"no-tailwindcss-support-display",children:e.jsx("textarea",{id:"content_ar",name:"content_ar",className:"mt-1 block w-full"})}),e.jsx(l,{message:r.content_ar,className:"mt-2"})]}),e.jsxs("div",{className:"",children:[e.jsx(i,{htmlFor:"content_en",value:a("content_en"),required:!0}),e.jsx("div",{className:"no-tailwindcss-support-display",children:e.jsx("textarea",{id:"content_en",name:"content_en",className:"mt-1 block w-full "})}),e.jsx(l,{message:r.content_en,className:"mt-2"})]}),e.jsxs("div",{className:"",children:[e.jsx(i,{htmlFor:"content_de",value:a("content_de"),required:!0}),e.jsx("div",{className:"no-tailwindcss-support-display",children:e.jsx("textarea",{id:"content_de",name:"content_de",className:"mt-1 block w-full "})}),e.jsx(l,{message:r.content_de,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-neutral-200 dark:border-neutral-700",children:[e.jsx(E,{icon:"fa-times",as:_,href:route("admin.static-pages.index"),children:a("cancel")}),e.jsx(R,{icon:"fa-save",type:"submit",disabled:f,children:a(f?"creating":"create_page")})]})]})]})})})]})}export{G as default};
