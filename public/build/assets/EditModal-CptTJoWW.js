import{a as x,r as h,j as e}from"./app-DWQTxrgX.js";import{I as c}from"./InputLabel-D8JhNjhP.js";import{T as u}from"./TextInput-DTIuPuJU.js";import{I as d}from"./InputError-DJnhpTA5.js";import{P as j}from"./PrimaryButton-CpMMgEfe.js";import{S as _}from"./SecondaryButton-BYnLLsOT.js";import{u as b}from"./useTrans-BkTq1qdy.js";import{A as v}from"./AppModal-BNkA1KeU.js";function F({isOpen:s,onClose:l,discount:a}){const{t}=b(),{data:m,setData:i,put:f,errors:n,reset:p,processing:o}=x({code:"",percent:"",usage_limit:""});if(h.useEffect(()=>{a&&s?i({code:a.code||"",percent:a.percent||"",usage_limit:a.usage_limit||""}):s||p()},[a,s]),!a)return null;const g=r=>{r.preventDefault(),f(route("admin.discounts.update",a.id),{onSuccess:()=>{p(),l()}})};return e.jsx(v,{isOpen:s,onClose:l,title:t("edit_discount"),icon:"fa-pen-to-square",size:"md",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"code",value:t("discount_code"),required:!0}),e.jsx(u,{id:"code",name:"code",value:m.code,className:"mt-1 block w-full",onChange:r=>i("code",r.target.value),required:!0,icon:"fa-ticket",placeholder:t("enter_discount_code")}),e.jsx(d,{message:n.code,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"percent",value:t("discount_percent"),required:!0}),e.jsx(u,{id:"percent",name:"percent",type:"number",value:m.percent,className:"mt-1 block w-full",onChange:r=>i("percent",r.target.value),required:!0,icon:"fa-percent",placeholder:t("enter_discount_percent"),min:"0",max:"100",step:"0.01"}),e.jsx(d,{message:n.percent,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"usage_limit",value:t("usage_limit"),required:!0}),e.jsx(u,{id:"usage_limit",name:"usage_limit",type:"number",value:m.usage_limit,className:"mt-1 block w-full",onChange:r=>i("usage_limit",r.target.value),required:!0,icon:"fa-hashtag",placeholder:t("enter_usage_limit"),min:"1"}),e.jsx(d,{message:n.usage_limit,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(_,{type:"button",onClick:l,icon:"fa-xmark",rounded:"rounded-lg",disabled:o,children:t("cancel")}),e.jsx(j,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:o,children:t(o?"updating":"save_changes")})]})]})})}export{F as default};
